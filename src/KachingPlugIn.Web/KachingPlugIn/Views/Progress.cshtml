@using System.Web.Mvc.Html
@inherits System.Web.Mvc.WebViewPage<KachingPlugIn.Web.KachingPlugIn.ViewModels.ProgressViewModel>

@{
    Layout = null;
}

<div>
    @if (Model.Total == 0)
    {
        <p>
            Building @Model.ModelName for Ka-ching
            @for (int i = 0; i <= Model.Polls % 3; i++)
            {
                @:<text>.</text>
            }
        </p>
    }
    else
    {
        <p>@Model.Action @Model.Exported of @Model.Total @Model.ModelName</p>
    }
</div>
<script>
    function shouldSchedulePoll() {
        return '@(Model.Busy)' === '@true' && '@(Model.Error)' === '@false'
    }
</script>